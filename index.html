<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MCW Support Ticket</title>

  <style>
    body{
      margin:0;
      min-height:100vh;
      display:grid;
      place-items:center;
      background:#0b1220;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      color:#e5e7eb
    }
    .card{
      max-width:560px;
      width:92%;
      background:#111827;
      border:1px solid #1f2937;
      border-radius:16px;
      padding:24px;
      box-shadow:0 20px 40px rgba(0,0,0,.35)
    }
    h1{margin:0 0 10px;font-size:20px}
    p{margin:6px 0;color:#cbd5e1;line-height:1.6}
    .muted{font-size:13px;color:#94a3b8}
  </style>
</head>

<body>
  <div class="card">
    <h1 id="title">Checking office hours…</h1>
    <p id="msg" class="muted">Please wait.</p>
  </div>

<script>
  const TICKET_URL =
    "https://ticket.cxgenie-mcw.com?bid=f297a42d-96e0-4b56-960e-3bb24ef2e371&lang=bn";

  // Office hours: 07:00 – 23:59 (BDT)
  const OPEN_MIN = 7 * 60;
  const CLOSE_MIN = 23 * 60 + 59;

  function bdtMinutesNow(){
    const parts = new Intl.DateTimeFormat("en-US",{
      timeZone:"Asia/Dhaka",
      hour12:false,
      hour:"2-digit",
      minute:"2-digit"
    }).formatToParts(new Date());

    const h = Number(parts.find(p=>p.type==="hour").value);
    const m = Number(parts.find(p=>p.type==="minute").value);
    return h*60 + m;
  }

  const title = document.getElementById("title");
  const msg = document.getElementById("msg");

  const now = bdtMinutesNow();
  const isOpen = now >= OPEN_MIN && now <= CLOSE_MIN;

  if(isOpen){
    title.textContent = "Redirecting to ticket form…";
    msg.textContent = "Please wait.";
    window.location.replace(TICKET_URL);
  } else {
    title.textContent = "We are closed now";
    msg.innerHTML = `
      Our support hours are
      <b>7:00 AM – 11:59 PM (BDT)</b>.<br>
      Please come back at <b>7:00 AM</b> to submit your ticket.
    `;
  }
</script>
</body>
</html>
